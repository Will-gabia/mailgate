# ============================================
# Mail Gateway Configuration
# ============================================

# Database (Prisma)
# SQLite (default): "file:./data/mail-gateway.db"
# PostgreSQL:       "postgresql://user:pass@localhost:5432/mail_gateway"
# MySQL:            "mysql://user:pass@localhost:3306/mail_gateway"
DATABASE_URL="file:./data/mail-gateway.db"

# SMTP Server (Inbound)
SMTP_HOST="0.0.0.0"
SMTP_PORT=2525
SMTP_ALLOWED_IPS="127.0.0.1"


# Mail Size Limit
MAX_MESSAGE_SIZE_MB=25

# SMTP TLS (STARTTLS)
# Generate dev certs: npm run generate-cert
SMTP_TLS_ENABLED=false
SMTP_TLS_KEY=""
SMTP_TLS_CERT=""
SMTP_TLS_CA=""

# SMTP Relay (Outbound / Forwarding)
RELAY_SMTP_HOST="smtp.example.com"
RELAY_SMTP_PORT=587
RELAY_SMTP_SECURE=true
RELAY_SMTP_USER=""
RELAY_SMTP_PASS=""

# Storage
ATTACHMENT_STORAGE_DIR="./data/attachments"


# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_PER_WINDOW=100

# Queue (BullMQ + Redis)
REDIS_URL="redis://127.0.0.1:6379"

# Application
LOG_LEVEL="info"
NODE_ENV="development"

# API Server + Dashboard
API_HOST="0.0.0.0"
API_PORT=3000

# API Security
# API_KEY â€” Set to enable API key authentication (header: x-api-key or query: api_key)
# Leave empty or unset to disable authentication
API_KEY=""

# CORS allowed origins (comma-separated, "*" for all)
# Examples: "*" or "http://localhost:5173,https://admin.example.com"
CORS_ORIGINS="*"

# API Rate Limiting (per IP, sliding window)
API_RATE_LIMIT_MAX=200
API_RATE_LIMIT_WINDOW_MS=60000
